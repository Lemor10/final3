<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>{{ dog.name }} - Dog Info</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

<style>
body {
  background: linear-gradient(180deg, #e9f0ff, #f8f9fa);
  font-family: "Poppins", sans-serif;
  padding: 30px 15px;
}


.info-card {
  background: #fff;
  border-radius: 1.2rem;
  box-shadow: 0 12px 30px rgba(0,0,0,0.08);
  padding: 25px;
  max-width: 720px;
  margin: auto;
}


.dog-header {
  text-align: center;
  margin-bottom: 20px;
}

.dog-img {
  width: 160px;
  height: 160px;
  object-fit: cover;
  background: #fff;
  margin-bottom: 12px;
}


.badge-status {
  font-size: 0.85rem;
  padding: 6px 12px;
  border-radius: 999px;
}


.info-row {
  display: flex;
  justify-content: space-between;
  border-bottom: 1px dashed #e5e7eb;
  padding: 6px 0;
  font-size: 0.95rem;
}

.info-row:last-child {
  border-bottom: none;
}


.owner-card {
  background: #f8fafc;
  border-radius: 1rem;
  padding: 15px;
  display: flex;
  gap: 14px;
  align-items: center;
  box-shadow: inset 0 0 0 1px #e5e7eb;
}

.owner-photo {
  width: 72px;
  height: 72px;
  object-fit: cover;
  border-radius: 50%;
  border: 2px solid #0d6efd;
  background: #fff;
}

.owner-actions a {
  font-size: 0.8rem;
  padding: 4px 10px;
}


.back-btn {
  margin-top: 25px;
}


@media (max-width: 576px) {
  .info-row {
    font-size: 0.9rem;
  }
}
</style>
</head>

<body>

<div class="info-card">

  
  <div class="dog-header">
    <img src="{{ url_for('static', filename='dog_images/' ~ (dog.image if dog.image else 'default_dog.png')) }}"
         class="dog-img"
         alt="{{ dog.name }}">

    <h2 class="text-black fw-semibold mb-1">{{ dog.name }}</h2>

    <span class="badge {% if dog.vaccinated=='Vaccinated' %}bg-success{% else %}bg-danger{% endif %} badge-status">
      {{ dog.vaccinated }}
    </span>
  </div>

  
  <div class="mb-4">
    <div class="info-row">
      <span><i class="bi bi-tag me-1"></i> Breed</span>
      <strong>{{ dog.breed }}</strong>
    </div>
    <div class="info-row">
      <span><i class="bi bi-hourglass-split me-1"></i> Age</span>
      <strong>{{ dog.age }} years</strong>
    </div>

    <div class="info-row">
      <span>
        {% if dog.gender == 'Male' %}
          <i class="bi bi-gender-male me-1 text-primary"></i> Gender
        {% elif dog.gender == 'Female' %}
          <i class="bi bi-gender-female me-1 text-danger"></i> Gender
        {% else %}
          <i class="bi bi-question-circle me-1"></i> Gender
        {% endif %}
      </span>
      <strong>{{ dog.gender if dog.gender else 'N/A' }}</strong>
    </div>

    {% if dog.last_vaccination %}
    <div class="info-row">
      <span><i class="bi bi-calendar-check me-1"></i> Last Vaccination</span>
      <strong>{{ dog.last_vaccination.strftime('%b %d, %Y') }}</strong>
    </div>
    {% endif %}

    {% if dog.next_vaccination %}
    <div class="info-row">
      <span><i class="bi bi-calendar-event me-1"></i> Next Due</span>
      <strong>{{ dog.next_vaccination.strftime('%b %d, %Y') }}</strong>
    </div>
    {% endif %}
  </div>

  
  <h5 class="text-primary mb-3">Owner Information</h5>

  {% if dog.owner %}
  <div class="owner-card">

    <img src="{{ url_for('static', filename='profile_images/' ~ (dog.owner.profile_photo if dog.owner.profile_photo else 'default_profile.png')) }}"
         class="owner-photo"
         alt="Owner">

    <div class="flex-grow-1">
      <div class="fw-semibold">
        <i class="bi bi-person-circle me-1"></i> {{ dog.owner.name }}
      </div>
      <div class="small text-muted">
        <i class="bi bi-geo-alt me-1"></i> {{ dog.owner.address }}
      </div>

      <div class="owner-actions">
        {% if dog.owner.contact %}
        <a href="tel:{{ dog.owner.contact }}" class="btn btn-outline-primary btn-sm mt-2">
          <i class="bi bi-telephone"></i> Call: {{ dog.owner.contact }}
        </a>
        {% endif %}

        {% if dog.owner.email %}
        <a href="mailto:{{ dog.owner.email }}" class="btn btn-outline-primary btn-sm mt-2">
          <i class="bi bi-envelope"></i> Email: {{ dog.owner.email }}
        </a>
        {% endif %}
      </div>
    </div>

  </div>
  {% else %}
  <p class="text-muted fst-italic">No owner registered (Stray / Unassigned).</p>
  {% endif %}

  
  <div class="text-center">
    <a href="{{ url_for('scan_qr') }}" class="btn btn-primary back-btn px-4">
      <i class="bi bi-arrow-left-circle me-1"></i> Back to Scanner
    </a>
  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
